c
n
nn
n
current_user.documents.build(document_params)
document_params
current_user
c
current_user.documents.create!( document_type: "Passport", file: Rack::Test::UploadedFile.new("spec/fixtures/files/example.pdf", "application/pdf"), user_id: current_user.id )
current_user.documents.create!( document_type: "Passport", file: Rack::Test::UploadedFile.new("soec/fixtures/files/example.pdf", "application/pdf"), user_id: current_user.id )
current_user.documents.create!( document_type: "Passport", file: Rack::Test::UploadedFile.new("soec/fixturex/files/example.pdf", "application/pdf"), user_id: current_user.id )
current_user.documents.create!( document_type: "Passport", file: Rack::Test::UploadedFile.new("/example.pdf", "application/pdf"), user_id: current_user.id )
current_user.documents.create!( document_type: "Passport", file: Rack::Test::UploadedFile.new("/path/to/example.pdf", "application/pdf"), user_id: current_user.id )
current_user.documents.create!( document_type: "Passport", file: #<ActionDispatch::Http::UploadedFile:0x0000557ea7145ae8 @tempfile=#<Tempfile:/tmp/RackMultipart20240424-16818-11mgb6b.pdf>, user_id: current_user.id )
)
  user_id: current_user.id
  file: #<ActionDispatch::Http::UploadedFile:0x0000557ea7145ae8 @tempfile=#<Tempfile:/tmp/RackMultipart20240424-16818-11mgb6b.pdf>,
  document_type: "Passport",
current_user.documents.create!(
current_user.id
current_user
current_user.documents.create!(document_type: "Passport", file: #<ActionDispatch::Http::UploadedFile:0x0000557ea7145ae8 @tempfile=#<Tempfile:/tmp/RackMultipart20240424-16818-11mgb6b.pdf> user_id: current_user.id
Document
document_params
current_user.documents.new(document_params)
current_user.documents.create!(document_params)
Document
current_user.documents.create!(document_params)
document_params
current_user.documents.create!(document_params)
c
current_user.documents.create!(document_params)
c
current_user.documents.create!(document_params)
c
current_user.documents.create!(document_params)
current_user.documents.build(document_params)
document_params
c
decode_token(token)
decode_token(token
n
c
JWT.decode(token, nil, false).first
JWT.decode(token, nil, false)
JWT.decode(token, nil, flase)
JWT.decode(token, nil, 'none')
token = JWT.encode(user.id, nil, 'none')
token = JWT.encode(user.id, nil, none)
token = JWT.encode(user.id)
c
 JWT.decode(token, Rails.application.credentials.jwt_secret_key)
 token = JWT.encode(user.id)
c
 JWT.decode(token)
 JWT.decode(token, Rails.application.credentials.jwt_secret_key)
decode_token(token)
n
params[:token]
params
n
c
user
c
user
c
user
c
decoded_token
@current_user
n
nn
c
params[:token]
params[token]
params
request.headers
request
c
attributes_for(:document)
attributes_for
attributes_for(:document)
c
user_params
c
params
user_params
 @user.save!
 @user.save
n
user_params
params
c
user_params
c
n
c
n
c
n
c
n
attributes_for(:user)
attributes_for
c
n
